import { useEffect, useRef } from 'react';const CursorDot=()=>{const dotRef=useRef(null),mousePos=useRef({x:-100,y:-100}),dotPos=useRef({x:-100,y:-100}),damping=0.5;useEffect(()=>{const dot=document.createElement('div');dot.classList.add('cursor-dot');document.body.appendChild(dot);dotRef.current=dot;const updateDotPosition=()=>{dotPos.current.x+=((mousePos.current.x-dotPos.current.x)*damping);dotPos.current.y+=((mousePos.current.y-dotPos.current.y)*damping);dot.style.left=`${dotPos.current.x}px`;dot.style.top=`${dotPos.current.y}px`;requestAnimationFrame(updateDotPosition)};updateDotPosition();const handleMouseMove=e=>mousePos.current={x:e.clientX,y:e.clientY};document.addEventListener('mousemove',handleMouseMove);const handleHover=e=>{if(e.type==='mouseenter')dot.classList.add('cursor-dot-hover');else dot.classList.remove('cursor-dot-hover')};setTimeout(()=>{document.querySelectorAll('a,button,[role="button"],[onclick],[cursor="pointer"],[class*="hover"],[class*="group-hover"],[class*="cursor-pointer"]').forEach(el=>{el.addEventListener('mouseenter',handleHover);el.addEventListener('mouseleave',handleHover)})},0);return()=>{document.removeEventListener('mousemove',handleMouseMove);document.querySelectorAll('a,button,[role="button"],[onclick],[cursor="pointer"],[class*="hover"],[class*="group-hover"],[class*="cursor-pointer"]').forEach(el=>{el.removeEventListener('mouseenter',handleHover);el.removeEventListener('mouseleave',handleHover)});document.body.removeChild(dotRef.current)}},[]);return(<style jsx global>{`.cursor-dot{position:fixed;width:12px;height:12px;background:white;border-radius:50%;pointer-events:none;transform:translate(-50%,-50%);z-index:9999;transition:width 0.2s ease,height 0.2s ease,transform 0.1s ease;mix-blend-mode:difference}.cursor-dot-hover{width:60px;height:60px;background:hsla(0,0%,100%,0.1);filter:invert(1);backdrop-filter:blur(2px);border:2px solid rgba(167,167,167,0.4)}.dark .cursor-dot-hover{border:2px solid rgba(66,66,66,0.66)}`}</style>)};
export default CursorDot;
